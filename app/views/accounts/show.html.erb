<style>
  .min-h{
    min-height:35rem;
  }
  .h-36r{
    height:36rem
  }
  </style>
  
  
  
<div class="flex justify-center min-h bg-gray-100 mb-2">
  <div class="w-3/6 flex px-5">
    <div class="w-full">
      <div class="w-full py-3 flex justify-between items-end">
        <h3 class="text-base font-semibold text-gray-600">
          Mon portefeuille 
          <i class="fas fa-hand-holding-usd"></i>
        </h3>
        <a href="<%= new_user_account_transaction_path(current_user, current_user.account)%>" class="px-3 text-gray-600 rounded text-md">
          <i class="fal fa-plus-circle text-3xl text-blue-500"></i>
          Nouvelle transaction
        </a>
      </div>
      <div class="w-full h-64 p-5 flex justify-center items-center overflow-hidden bg-white shadow-lg overflow-x-auto">
        <table class="table-auto w-full">
          <tbody class="text-sm divide-y divide-gray-300">
              <tr>
                  <td class="p-2 whitespace-nowrap">
                      <div class="flex items-center">
                          <div class="font-medium text-gray-800">
                            <i class="fas fa-hand-holding-usd text-3xl"></i>
                          </div>
                      </div>
                  </td>
                  <td class="p-2 whitespace-nowrap ">
                      <div class="text-left"><h3 class="text-base font-semibold text-gray-600">Montant réel:</h3></</div>
                  </td>
                  <td class="p-2 whitespace-nowrap">
                      <div class="text-left font-medium text-green-500 text-2xl"><%= number_with_delimiter(@account.balance, :delimiter => '.') %> FCFA</div>
                  </td>
              </tr>
              <tr>
                  <td class="p-2 whitespace-nowrap">
                      <div class="flex items-center">
                          <div class="font-medium text-gray-800">
                            <i class="fas fa-credit-card text-3xl ml-5"></i>
                          </div>
                      </div>
                  </td>
                  <td class="p-2 whitespace-nowrap">
                      <div class="text-left"><h3 class="text-base font-semibold text-gray-600">Montant prévisionnel:</h3></</div>
                  </td>
                  <td class="p-2 whitespace-nowrap">
                      <div class="text-left font-medium text-green-500 text-2xl"><%= number_with_delimiter(@account.balance + @account.transactions.amount_lock , :delimiter => '.') %> FCFA</div>
                  </td>
              </tr>
              <tr>
                  <td class="p-2 whitespace-nowrap">
                      <div class="flex items-center">
                          <div class="font-medium text-gray-800">
                            <i class="fas fa-credit-card text-3xl ml-10"></i>
                          </div>
                      </div>
                  </td>
                  <td class="p-2 whitespace-nowrap">
                      <div class="text-left"><h3 class="text-base font-semibold text-gray-600">Montant total bloqué:</h3></div>
                  </td>
                  <td class="p-2 whitespace-nowrap">
                      <div class="text-left font-medium text-red-600 text-2xl">
                        <%= number_with_delimiter(@account.transactions.amount_lock, :delimiter => '.') %> FCFA
                      </div>
                  </td>
              </tr>
          </tbody>
      </table>
      </div>

      <h3 class="text-base font-semibold text-gray-600"> Transactions effectuées <i class="fas fa-file-invoice-dollar"></i></h3>
      <%= render 'thead' %>
      <div class="w-full h-64 flex justify-center items-center overflow-scroll bg-white shadow-lg">
        <table class="table w-full mt-5">
              <tbody class="text-sm divide-y divide-gray-100 py-4">
                <% current_user.account.transactions.each do |transaction|%>
                    <tr class="bg-gray-100">
                      <td class="p-2 whitespace-nowrap ">
                          <div class="text-left">
                            <%= transaction.created_at&.strftime("%a %D")%>
                          </div>
                      </td>
                        <td class="p-2 whitespace-nowrap">
                            <div class="flex items-center">
                                <div class="font-medium text-gray-800">
                                  <%= transaction.type_transaction%>
                                </div>
                            </div>
                        </td>
                        <td class="p-2 whitespace-nowrap">
                          <% if transaction.type_transaction == 'Dépôt' || transaction.type_transaction == 'Vente' || transaction.type_transaction == 'Déblocage' %>
                            <div class="text-left font-medium text-green-500">+<%= number_with_delimiter(transaction.amount, :delimiter => '.')%> FCFA</div>
                          <% end %>
                          
                          <%if transaction.type_transaction == 'Rétrait' || transaction.type_transaction == 'Achat' || transaction.type_transaction == 'Blocage' %>
                              <div class="text-left font-medium text-red-600"><%= number_with_delimiter(transaction.amount, :delimiter => '.')%> FCFA</div>
                          <%end %>
                        </td>
                    </tr>
                  
                <% end%>
              </tbody>
          </table>
      </div>
    </div>
  </div>

</div>
  
  <% content_for :banners do %>
    <%=render 'shared/banners'%>
  <% end %>
  <% content_for :footer do %>
    <%=render 'shared/footer'%>
  <% end %>
